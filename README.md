# DocumentProcessor
Реализованное тестовое задание для компании Pari: мини-приложения для управления процессами

### Описание
#### Documents
**POST/Documents** - создать новый документ. Добавление в него задач идет уже после создания другим эндпойнтом\
**GET/Documents** - получить список неудаленных документов со всеми их задачами\
**GET/Documents/{id}** - получить информацию о документе и его задачах\
**PUT/Documents/StartWork/{id}** - Начать работу с документом. Меняет его статус на _В работе_, а также статус первой задачи этого документа\
**DELETE/Documents/{id}** - Удалить документ. Реализовано через soft-delete, т.е. документ фактически не удаляется из БД, а лишь помечается как IsDeleted\

### Tasks
**POST/Tasks/{documentId}** - создать новую задачу и закрепить ее за документом с указанным id. Можно добавлять задачи в документ, находящийся в работе\
**PUT/Tasks/Complete/{id}** - выполнить задачу. Ее статус меняется на выполнено, а в работу переходит следующая задача. Если это была последняя задача документа, то документ переходит в статус _В оперативном архиве_\
**PUT/Tasks/Cancel/{id}** - отменить задачу. Ставит документу, в котором лежит задача, а также всем невыполненным задачам этого документа статус _Отмена_\

### Проверка
Необходимо создать документ(-ы), затем закинуть в него несколько задач\
Далее начать работу с документом и менять статус их задач\
Через получении информации о документе можно после каждого шага следить за тем, как обновляется документ и его задачи

### Комментарии по реализации
При наличии возможности, сделал бы парочку уточнений по ТЗ (например, не лучше ли в задаче хранить ссылку на следующую задачу, а не на предыдущую - тут допустил, что все-таки решили хранить на предыдущую;
Должен ли массив _tasks_ в документе действительно содержать полный список (т.к. в примере JSON структуры в нем нет активной задачи) - тут в итоге храню полный список),
неуказанные детали делал исходя из собственной логики\
Опустил ряд деталей реализации в связи с нехваткой времени (не ожидал, что дедлайн будет в первой половине дня). Например, в полном варианте следовало бы сделать в солюшне несколько проектов (разбить по слоям), добавить логирование, 
вынести валидацию входных данных (например, подключить FluentValidation)
